### js 中数据类型的范围, 超出这个范围, 数据就有可能失去精度

- 整数能保持精度的范围是正负 2 的 53 次方
- 数组的索引及位操作的范围是正负 2 的 31 次方

> 所以接口使用 id 建议用字符串, 这样从避坑和解耦角度是有优势

### js 性能

针对百亿次的计算性能, 经过六次测算, 取平均值, **得到结果:** javascript 在浏览器中需要 14705ms, 在 nodeJs 环境中需要 14492ms, Java 只需要 5711ms. **得到结论:** java 的运算性能大概是 js 的 3 倍
, javascript 在浏览器和服务器中的运算性能差不多

```js
function calc1() {
  let value = 0;
  let start = new Date().getTime();
  for (let i = 0; i < 1000; i++) {
    for (let j = 0; j < 1000; j++) {
      for (let k = 0; k < 1000; k++) {
        for (let k2 = 0; k2 < 10; k2++) {
          value++;
        }
      }
    }
  }
  let end = new Date().getTime();
  console.log(value);
  console.log(end - start);
}
// 运算次数: 10000000000, 花费时间: 17201
```

### 浏览器对同一域名下的资源并发下载线程数，chrome 为 6 个。

这里要注意关键词: 同一域名. 所以我们通常会将资源收敛到不同的域名下, 就是为了充分利用这个机制, 最大程度的并发下载所需静态资源, 尽快完成页面渲染.

### 当输入一个页面地址时, 发生了那些事情

- 1, DNS 解析域名
- 2, 浏览器首先下载该地址对应的 html 文件
- 3, 浏览器解析 html 页面的 dom 结构
- 4, 开启下载线程对文档中所有资源按照优先级排序下载
- 5, 主线程继续解析文档, 到达 head 节点, head 中的外部资源无非是外链 css 或 js 文件.
  - 发现外链 css, 继续解析后续内容
  - 发现外链 js, 则停止解析后续内容, 等待该资源下载, 下载完毕后立即执行
- 5, 解析到 body
  > body 中的情况要复杂一些, 里面可能有 dom, js, css, js 资源中有可能异步加载 js, css, 图片等
  - 只有 DOM 元素
    - dom 树构建完毕, 页面首次渲染
  - 只有 DOM 元素, 外链 js
    - 当解析到外链 js 时, 这里就会将 js 之前的 dom 渲染到页面上了(页面的第一次渲染), 同时停止解析后续内容. 如果该资源没有下载完, 等待下载, 现在完毕后立即执行, 执行完之后在继续往下解析文档. 所以, 该 js 执行完之前, 我们在页面上看不到该 js 后面的 DOM 元素.
  - 有 DOM 元素, 外链 css
    - 外链 css 不会影响 css 后面的 DOM 构建, 但会阻碍渲染. 即: 外链 css 加载完之前, 页面还是白屏.
  - 有 DOM 元素, 外链 js, 外链 css
    - 外链 js 和外链 css 的顺序会影响页面渲染. 当 body 中 js 之前的外链 css 未加载完之前, 页面是不会渲染的
    - 当 body 中 js 之前的外链 css 加载完之后, js 之前的 DOM 树和 css 合并渲染树, 页面渲染出该 js 之前的 DOM 结构. 然后 js 开始执行. **(这里要等 css 加载完再执行 js, 是因为 js 可以操作 css, 所以要等 css 解析完毕)** .
- 6, 文档解析完毕, 页面重新渲染. 当页面所有 js 同步代码执行完毕后, 触发 DOMContentLoaded 事件.
- 7, 剩下的 html 文档中的图片资源, js 代码中异步加载的 js, css, 图片资源都加载完毕后, load 事件触发.

#### 总结:

- 1, js 资源会阻止后面 dom 的构建, 但不会影响后面资源的加载.
- 2, css 资源不会阻碍后面 DOM 的构建, 但会阻碍页面的首次渲染.
- 3, js 执行之前, 需要等前面的外链 css 加载完毕
- 4, 当 html 中所有同步加载的 js, css 加载完毕后, 触发 DOMContentLoaded 事件.
- 5, 当 html 中所有 同步或 js 异步加载的 js, css, 图片加载完毕后, 触发 load 事件. (video、audio、flash 不会影响 load 事件触发。)

### DOM 渲染原理

DOM(Document Object Modal 文档对象模型),

### CSSOM 渲染原理

### 渲染树生成原理
